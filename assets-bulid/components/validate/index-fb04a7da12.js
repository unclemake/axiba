define("components/validate/index-fb04a7da12.js",function(require, exports, module) {
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),React=require("react"),index_1=require("../input/index"),rule_1=require("./rule");exports.addRule=rule_1.addRule,exports.getLength=rule_1.getLength;var index_2=require("../popover/index"),Validate=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={msg:[],validate:!0,value:e.props.value},e}return _inherits(t,e),_createClass(t,[{key:"validate",value:function e(t){var a=t.target.value,r=this.state;if(r.msg=[],r.validate=!0,r.value=rule_1.replaceDefault(a),this.props.required){var e=this.valueValidateSave("required",a);if(this.setState(this.state),this.hiddenPopover(),!e)return}else{var i=this.valueValidate("required",a);if(!i)return}for(var n in this.props)if(rule_1.messages.hasOwnProperty(n)){r.value=this.valueReplace(n,a);this.valueValidateSave(n,a)}this.setState(this.state),this.hiddenPopover()}},{key:"hiddenPopover",value:function(){var e=this;clearTimeout(this.hiddenST),this.hiddenST=setTimeout(function(){e.state.validate=!0,e.setState(e.state)},4500)}},{key:"valueReplace",value:function(e,t){var a=rule_1.replaceArray[e];return a?a(t):t}},{key:"msgRender",value:function(){return React.createElement("div",null,this.state.msg.map(function(e,t){return React.createElement("p",{key:t},e)}))}},{key:"valueValidate",value:function(e,t){var a=(this.state,this.props[e]),r=rule_1.ruleArray[e]||rule_1.ruleDefault(e),i=r(t,a);return i}},{key:"valueValidateSave",value:function(e,t){var a=this.state,r=rule_1.messages[e],i=this.props[e],n=this.valueValidate(e,t);return a.validate=a.validate&&n,n||a.msg.push(r(t,i)),n}},{key:"onChange",value:function(e){this.state.value=e.target.value,this.setState(this.state)}},{key:"render",value:function(){this.props;return React.createElement(index_2.default,{overlayClassName:"ant-popover-warning",placement:"topLeft",content:this.msgRender(),visible:!this.state.validate},React.createElement(index_1.default,{value:this.state.value,onChange:this.onChange.bind(this),onBlur:this.validate.bind(this)}))}}]),t}(React.Component);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Validate;
});
//# sourceMappingURL=index-fb04a7da12.js.map
