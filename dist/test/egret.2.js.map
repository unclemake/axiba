{"version":3,"sources":["test/egret.2.ts"],"names":[],"mappings":"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","file":"egret.2.js","sourcesContent":["export default class Main extends egret.DisplayObjectContainer {\r\n    private _shape: egret.Shape;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.addEventListener(egret.Event.ADDED_TO_STAGE, this.onAddToStage, this);\r\n    }\r\n\r\n    private onAddToStage(event: egret.Event) {\r\n        this.initGraphics();\r\n    }\r\n\r\n    //初始化赋值\r\n    private initGraphics(): void {\r\n        let WireNew: Wire;\r\n\r\n        // 弯线\r\n        this.newWire([{ x: 30, y: 25 }, { x: 60, y: 50 }, { x: 90, y: 25 }, { x: 120, y: 50 }, { x: 150, y: 25 }]);\r\n        this.newWire([{ x: 30, y: 25 }, { x: 60, y: 50 }, { x: 90, y: 25 }]);\r\n\r\n        // // 三条线\r\n        this.newWire([{ x: 30, y: 60 }, { x: 150, y: 60 }]);\r\n        WireNew = this.newWire([{ x: 30, y: 62 }, { x: 150, y: 62 }]);\r\n        WireNew.deviationLength = 4;\r\n        this.newWire([{ x: 30, y: 64 }, { x: 150, y: 64 }]);\r\n\r\n        // 修改颜色\r\n        WireNew = this.newWire([{ x: 30, y: 90 }, { x: 150, y: 90 }, { x: 150, y: 120 }]);\r\n        WireNew.color = 0x009933;\r\n        WireNew.bgColor = 0x99FFFF;\r\n        WireNew.wireWidth = 4;\r\n\r\n        // 组\r\n        var shape = new egret.Shape();\r\n        var leftCon = new egret.DisplayObjectContainer();\r\n        this.addChild(leftCon);\r\n        leftCon.addChild(shape);\r\n        let shapeWireNew = new Wire([{ x: 30, y: 120 }, { x: 150, y: 120 }]);\r\n        leftCon.addChild(shapeWireNew);\r\n\r\n        // 画圆\r\n        shape.graphics.beginFill(0xff0000 + Math.floor(Math.random() * 100) * (0xffffff / 100), 1);\r\n        shape.graphics.lineStyle(2, 0xff0000 + Math.floor(Math.random() * 100) * (0xffffff / 100));\r\n        shape.graphics.drawCircle(250, 100, Math.random() * 20 + 20);\r\n\r\n        egret.Tween.get(leftCon, { loop: true }).to({ x: 0, y: 200 }, 3000, egret.Ease.sineIn).to({ x: 0, y: 0 }, 3000, egret.Ease.sineIn);\r\n\r\n        // 相对动画\r\n        var shape = new egret.Shape();\r\n        leftCon.addChild(shape);\r\n        shape.graphics.beginFill(0xff0000);\r\n        shape.graphics.lineStyle(2, 0xff0000);\r\n        shape.graphics.drawCircle(350, 100, 20 + 20);\r\n        egret.Tween.get(shape, { loop: true }).to({ x: 100, y: 0 }, 3000, egret.Ease.sineIn).to({ x: 0, y: 0 }, 3000, egret.Ease.sineIn);\r\n\r\n        var shape = new egret.Shape();\r\n        leftCon.addChild(shape);\r\n        shape.graphics.beginFill(0xff0000);\r\n        shape.graphics.lineStyle(2, 0xff0000);\r\n        shape.graphics.drawRect(300, 200, 100, 100);\r\n        egret.Tween.get(shape, { loop: true }).to({ x: 100, y: 0, rotation: 100 }, 3000, egret.Ease.sineIn).to({ x: 0, y: 0, rotation: 0 }, 3000, egret.Ease.sineIn);\r\n\r\n\r\n    }\r\n\r\n    newWire(point: PointInterface[]) {\r\n        let wire = new Wire(point);\r\n        this.addChild(wire);\r\n        return wire;\r\n    }\r\n\r\n}\r\nwindow['Main'] = Main;\r\n\r\n\r\ninterface PointInterface {\r\n    x: number,\r\n    y: number\r\n}\r\n\r\nclass Wire extends egret.DisplayObjectContainer {\r\n    /**\r\n     * 形状对象\r\n     * \r\n     * @type {egret.Shape}\r\n     * @memberOf Wire\r\n     */\r\n    shape: egret.Shape;\r\n    shapeMask: egret.Shape;\r\n    shapeBg: egret.Shape;\r\n\r\n    /**\r\n     * 背景色\r\n     * \r\n     * @type {number}\r\n     * @memberOf Wire\r\n     */\r\n    bgColor: number = 0xFFFF33;\r\n    /**\r\n     * 线颜色\r\n     * \r\n     * @type {number}\r\n     * @memberOf Wire\r\n     */\r\n    color: number = 0xFF0000;\r\n    /**\r\n     * 点集合\r\n     * \r\n     * @type {PointInterface[]}\r\n     * @memberOf Wire\r\n     */\r\n    point: PointInterface[];\r\n    /**\r\n     * 偏移长度\r\n     * \r\n     * @type {number}\r\n     * @memberOf Wire\r\n     */\r\n    deviationLength: number = 6;\r\n    /**\r\n     * 虚线长短\r\n     * \r\n     * @type {number}\r\n     * @memberOf Wire\r\n     */\r\n    dashLength: number = 4;\r\n    /**\r\n     * 线宽\r\n     * \r\n     * @type {number}\r\n     * @memberOf Wire\r\n     */\r\n    wireWidth: number = 2;\r\n\r\n    /**\r\n     * 记录动画时长\r\n     * \r\n     * @type {number}\r\n     * @memberOf Wire\r\n     */\r\n    private timeOnEnterFrame: number = 0;\r\n\r\n    constructor(point: PointInterface[]) {\r\n        super();\r\n        this.shape = new egret.Shape();\r\n        this.shapeMask = new egret.Shape();\r\n        this.shapeBg = new egret.Shape();\r\n        this.shape.mask = this.shapeMask;\r\n        this.addChild(this.shapeBg);\r\n        this.addChild(this.shape);\r\n        this.addChild(this.shapeMask);\r\n        this.point = point;\r\n\r\n        this.animation();\r\n        this.draw();\r\n\r\n    }\r\n\r\n    /**\r\n     * 启动帧动画\r\n     * \r\n     * \r\n     * @memberOf Wire\r\n     */\r\n    animation() {\r\n        this.addEventListener(egret.Event.ENTER_FRAME, (evt: egret.Event) => {\r\n            let now = egret.getTimer();\r\n            let pass = now - this.timeOnEnterFrame;\r\n            if (pass > 200) {\r\n                this.timeOnEnterFrame = now;\r\n                if (this.deviationLength < this.dashLength * 2) {\r\n                    this.deviationLength++;\r\n                } else {\r\n                    this.deviationLength = -this.dashLength * 2 + 1;\r\n                }\r\n                this.draw();\r\n            }\r\n        }, this);\r\n    }\r\n\r\n    /**\r\n     * 编列画线\r\n     * \r\n     * \r\n     * @memberOf Wire\r\n     */\r\n    draw() {\r\n        this.shapeMask.graphics.clear();\r\n        this.shape.graphics.clear();\r\n        this.shapeBg.graphics.clear();\r\n        let shape = this.shape;\r\n\r\n        for (let index = 0; index < this.point.length - 1; index++) {\r\n            this.drawDottedLine(this.point[index], this.point[index + 1]);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * 画线\r\n     * \r\n     * @param {PointInterface} start\r\n     * @param {PointInterface} end\r\n     * \r\n     * @memberOf Wire\r\n     */\r\n    drawDottedLine(start: PointInterface, end: PointInterface) {\r\n\r\n        var shape = this.shapeBg;\r\n        // 画背景\r\n        shape.graphics.lineStyle(this.wireWidth, this.bgColor);\r\n        shape.graphics.moveTo(start.x, start.y);\r\n        shape.graphics.lineTo(end.x, end.y);\r\n\r\n        var shape = this.shape;\r\n        // 得到总长度  \r\n        let beveling = this.getBeveling(end.x - start.x, end.y - start.y);\r\n        // 计算有多少个线段  \r\n        let num = Math.floor(beveling / this.dashLength / 2);\r\n\r\n        // 画背景\r\n        shape.graphics.lineStyle(this.wireWidth, this.color);\r\n        shape.graphics.moveTo(start.x, start.y);\r\n        shape.graphics.lineTo(end.x, end.y);\r\n\r\n\r\n        // 计算起点\r\n        let deviation = this.getPointByDeviation(start, end, this.deviationLength);\r\n        // console.log(start);\r\n        // console.log(end);\r\n        // console.log(deviation);\r\n        let startPoint = deviation.start;\r\n        let endPoint = deviation.end;\r\n\r\n        var shape = this.shapeMask;\r\n        shape.graphics.moveTo(startPoint.x, startPoint.y);\r\n        shape.graphics.lineStyle(this.wireWidth, this.color);\r\n        for (var index = 0; index <= num + 2; index++) {\r\n            let x = startPoint.x + (endPoint.x - startPoint.x) / num * index;\r\n            let y = startPoint.y + (endPoint.y - startPoint.y) / num * index;\r\n\r\n            if (this.deviationLength < 0 && index === 0) {\r\n                x = start.x;\r\n                y = start.y;\r\n            }\r\n\r\n            if (index % 2 == 0) {\r\n                shape.graphics.moveTo(x, y);\r\n            } else {\r\n                shape.graphics.lineTo(x, y);\r\n            }\r\n        }\r\n\r\n        // console.log(this.deviationLength);\r\n\r\n    }\r\n\r\n    /**\r\n     * 根据偏移获取坐标\r\n     * \r\n     * @param {PointInterface} start\r\n     * @param {PointInterface} end\r\n     * @param {number} deviation\r\n     * @returns\r\n     * \r\n     * @memberOf Wire\r\n     */\r\n    getPointByDeviation(start: PointInterface, end: PointInterface, deviation: number) {\r\n        let beveling = this.getBeveling(end.x - start.x, end.y - start.y);\r\n        let proportion = deviation / beveling;\r\n        return {\r\n            start: {\r\n                x: start.x == end.x ? start.x : (end.x - start.x) * proportion + start.x,\r\n                y: start.y == end.y ? start.y : (end.y - start.y) * proportion + start.y\r\n            },\r\n            end: {\r\n                x: start.x == end.x ? start.x : (end.x - start.x) * proportion + end.x,\r\n                y: start.y == end.y ? start.y : (end.y - start.y) * proportion + end.y\r\n            }\r\n        };\r\n    }\r\n\r\n    /**\r\n     * 获得长度\r\n     * \r\n     * @param {any} x\r\n     * @param {any} y\r\n     * @returns\r\n     * \r\n     * @memberOf Wire\r\n     */\r\n    getBeveling(x: number, y: number) {\r\n        return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\r\n    }\r\n}\r\n\r\n"],"sourceRoot":"/assets"}